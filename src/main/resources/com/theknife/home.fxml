<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.theknife.HomeController"
      prefWidth="800" prefHeight="600"
      style="-fx-background-color: rgb(47,98,84);">

    <!-- HEADER: Pulsante Indietro (sinistra) + Icona Utente (destra) -->
    <top>
        <BorderPane>
            <left>
                <HBox alignment="TOP_LEFT">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15" />
                    </padding>
                    <Button text="â† Indietro" onAction="#onBackClicked"
                            style="-fx-background-color: #d32f2f;
                                   -fx-text-fill: white;
                                   -fx-font-weight: bold;
                                   -fx-font-size: 14px;
                                   -fx-background-radius: 8;
                                   -fx-padding: 6 18;
                                   -fx-border-color: #b71c1c;
                                   -fx-border-width: 2;
                                   -fx-border-radius: 8;"/>
                </HBox>
            </left>

            <right>
                <HBox alignment="TOP_RIGHT">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15" />
                    </padding>
                    <!-- NB MANCA onMouseClicked="#onUserIconClicked" -->
                    <ImageView fx:id="userIcon" fitWidth="40" fitHeight="40"
                               pickOnBounds="true" preserveRatio="true">
                        <image>
                            <Image url="@userIcon.png" />
                        </image>
                    </ImageView>
                </HBox>
            </right>
        </BorderPane>
    </top>

    <!-- CONTENUTO CENTRALE: Card bianca centrata -->
    <center>
        <VBox alignment="CENTER" spacing="25">
            <VBox alignment="CENTER" spacing="20" maxWidth="600"
                  style="-fx-background-color: white;
                         -fx-background-radius: 15;
                         -fx-padding: 40;">

                <!-- Logo -->
                <ImageView fx:id="logoImage" fitHeight="90" fitWidth="90">
                    <image>
                        <Image url="@logo.png" />
                    </image>
                </ImageView>

                <!-- Titolo -->
                <Label text="Trova il ristorante giusto per te!"
                       style="-fx-font-size: 26px;
                              -fx-font-weight: bold;
                              -fx-text-fill: rgb(47,98,84);" />

                <!-- Barra di ricerca -->
                <HBox spacing="0" alignment="CENTER">

                    <!-- Campo Posizione -->
                    <TextField fx:id="positionField"
                            text="Posizione"
                            prefWidth="150"
                            prefHeight="35"
                            style="-fx-font-size: 14px;
                                    -fx-border-color: rgb(47,98,84);
                                    -fx-border-width: 1;
                                    -fx-background-radius: 10 0 0 10;
                                    -fx-border-radius: 10 0 0 10;" />

                    <!-- Campo di Ricerca -->
                    <TextField fx:id="searchField"
                            promptText="tipo di cucina, nome del ristorante..."
                            prefWidth="350"
                            prefHeight="35"
                            style="-fx-font-size: 14px;
                                    -fx-border-color: rgb(47,98,84);
                                    -fx-border-width: 1;
                                    -fx-border-radius: 0;" />

                    <!-- Bottone Cerca -->
                    <Button text="Cerca"
                            prefWidth="100"
                            prefHeight="35"
                            onAction="#onSearchClicked"
                            style="-fx-background-color: rgb(47,98,84);
                                -fx-text-fill: white;
                                -fx-font-weight: bold;
                                -fx-background-radius: 0 10 10 0;
                                -fx-border-radius: 0 10 10 0;
                                -fx-font-size: 14px;" />
                </HBox>
            </VBox>
        </VBox>
    </center>
</BorderPane>
